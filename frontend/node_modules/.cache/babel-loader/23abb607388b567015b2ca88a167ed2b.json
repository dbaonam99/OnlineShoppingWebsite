{"ast":null,"code":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define(['exports', 'react', 'react-dom', './lib/ScriptCache', './lib/GoogleApi'], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports, require('react'), require('react-dom'), require('./lib/ScriptCache'), require('./lib/GoogleApi'));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports, global.react, global.reactDom, global.ScriptCache, global.GoogleApi);\n    global.GoogleApiComponent = mod.exports;\n  }\n})(this, function (exports, _react, _reactDom, _ScriptCache, _GoogleApi) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.wrapper = undefined;\n\n  var _react2 = _interopRequireDefault(_react);\n\n  var _reactDom2 = _interopRequireDefault(_reactDom);\n\n  var _GoogleApi2 = _interopRequireDefault(_GoogleApi);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  var _createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  function _possibleConstructorReturn(self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  }\n\n  var defaultMapConfig = {};\n\n  var serialize = function serialize(obj) {\n    return JSON.stringify(obj);\n  };\n\n  var isSame = function isSame(obj1, obj2) {\n    return obj1 === obj2 || serialize(obj1) === serialize(obj2);\n  };\n\n  var defaultCreateCache = function defaultCreateCache(options) {\n    options = options || {};\n    var apiKey = options.apiKey;\n    var libraries = options.libraries || ['places'];\n    var version = options.version || '3';\n    var language = options.language || 'en';\n    var url = options.url;\n    var client = options.client;\n    var region = options.region;\n    return (0, _ScriptCache.ScriptCache)({\n      google: (0, _GoogleApi2.default)({\n        apiKey: apiKey,\n        language: language,\n        libraries: libraries,\n        version: version,\n        url: url,\n        client: client,\n        region: region\n      })\n    });\n  };\n\n  var DefaultLoadingContainer = function DefaultLoadingContainer(props) {\n    return _react2.default.createElement('div', null, 'Loading...');\n  };\n\n  var wrapper = exports.wrapper = function wrapper(input) {\n    return function (WrappedComponent) {\n      var Wrapper = function (_React$Component) {\n        _inherits(Wrapper, _React$Component);\n\n        function Wrapper(props, context) {\n          _classCallCheck(this, Wrapper); // Build options from input\n\n\n          var _this = _possibleConstructorReturn(this, (Wrapper.__proto__ || Object.getPrototypeOf(Wrapper)).call(this, props, context));\n\n          var options = typeof input === 'function' ? input(props) : input; // Initialize required Google scripts and other configured options\n\n          _this.initialize(options);\n\n          _this.state = {\n            loaded: false,\n            map: null,\n            google: null,\n            options: options\n          };\n          _this.mapRef = _react2.default.createRef();\n          return _this;\n        }\n\n        _createClass(Wrapper, [{\n          key: 'UNSAFE_componentWillReceiveProps',\n          value: function UNSAFE_componentWillReceiveProps(props) {\n            // Do not update input if it's not dynamic\n            if (typeof input !== 'function') {\n              return;\n            } // Get options to compare\n\n\n            var prevOptions = this.state.options;\n            var options = typeof input === 'function' ? input(props) : input; // Ignore when options are not changed\n\n            if (isSame(options, prevOptions)) {\n              return;\n            } // Initialize with new options\n\n\n            this.initialize(options); // Save new options in component state,\n            // and remove information about previous API handlers\n\n            this.setState({\n              options: options,\n              loaded: false,\n              google: null\n            });\n          }\n        }, {\n          key: 'componentWillUnmount',\n          value: function componentWillUnmount() {\n            if (this.unregisterLoadHandler) {\n              this.unregisterLoadHandler();\n            }\n          }\n        }, {\n          key: 'initialize',\n          value: function initialize(options) {\n            // Avoid race condition: remove previous 'load' listener\n            if (this.unregisterLoadHandler) {\n              this.unregisterLoadHandler();\n              this.unregisterLoadHandler = null;\n            } // Load cache factory\n\n\n            var createCache = options.createCache || defaultCreateCache; // Build script\n\n            this.scriptCache = createCache(options);\n            this.unregisterLoadHandler = this.scriptCache.google.onLoad(this.onLoad.bind(this)); // Store information about loading container\n\n            this.LoadingContainer = options.LoadingContainer || DefaultLoadingContainer;\n          }\n        }, {\n          key: 'onLoad',\n          value: function onLoad(err, tag) {\n            this._gapi = window.google;\n            this.setState({\n              loaded: true,\n              google: this._gapi\n            });\n          }\n        }, {\n          key: 'render',\n          value: function render() {\n            var LoadingContainer = this.LoadingContainer;\n\n            if (!this.state.loaded) {\n              return _react2.default.createElement(LoadingContainer, null);\n            }\n\n            var props = Object.assign({}, this.props, {\n              loaded: this.state.loaded,\n              google: window.google\n            });\n            return _react2.default.createElement('div', null, _react2.default.createElement(WrappedComponent, props), _react2.default.createElement('div', {\n              ref: this.mapRef\n            }));\n          }\n        }]);\n\n        return Wrapper;\n      }(_react2.default.Component);\n\n      return Wrapper;\n    };\n  };\n\n  exports.default = wrapper;\n});","map":{"version":3,"sources":["/Users/namduong/Documents/dev/shop-project/node_modules/google-maps-react/dist/GoogleApiComponent.js"],"names":["global","factory","define","amd","exports","require","mod","react","reactDom","ScriptCache","GoogleApi","GoogleApiComponent","_react","_reactDom","_ScriptCache","_GoogleApi","Object","defineProperty","value","wrapper","undefined","_react2","_interopRequireDefault","_reactDom2","_GoogleApi2","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","defaultMapConfig","serialize","JSON","stringify","isSame","obj1","obj2","defaultCreateCache","options","apiKey","libraries","version","language","url","client","region","google","DefaultLoadingContainer","createElement","input","WrappedComponent","Wrapper","_React$Component","context","_this","getPrototypeOf","initialize","state","loaded","map","mapRef","createRef","UNSAFE_componentWillReceiveProps","prevOptions","setState","componentWillUnmount","unregisterLoadHandler","createCache","scriptCache","onLoad","bind","LoadingContainer","err","tag","_gapi","window","render","assign","ref","Component"],"mappings":"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","sourcesContent":["(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define(['exports', 'react', 'react-dom', './lib/ScriptCache', './lib/GoogleApi'], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports, require('react'), require('react-dom'), require('./lib/ScriptCache'), require('./lib/GoogleApi'));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports, global.react, global.reactDom, global.ScriptCache, global.GoogleApi);\n    global.GoogleApiComponent = mod.exports;\n  }\n})(this, function (exports, _react, _reactDom, _ScriptCache, _GoogleApi) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.wrapper = undefined;\n\n  var _react2 = _interopRequireDefault(_react);\n\n  var _reactDom2 = _interopRequireDefault(_reactDom);\n\n  var _GoogleApi2 = _interopRequireDefault(_GoogleApi);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  var _createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  function _possibleConstructorReturn(self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  }\n\n  var defaultMapConfig = {};\n\n  var serialize = function serialize(obj) {\n    return JSON.stringify(obj);\n  };\n  var isSame = function isSame(obj1, obj2) {\n    return obj1 === obj2 || serialize(obj1) === serialize(obj2);\n  };\n\n  var defaultCreateCache = function defaultCreateCache(options) {\n    options = options || {};\n    var apiKey = options.apiKey;\n    var libraries = options.libraries || ['places'];\n    var version = options.version || '3';\n    var language = options.language || 'en';\n    var url = options.url;\n    var client = options.client;\n    var region = options.region;\n\n    return (0, _ScriptCache.ScriptCache)({\n      google: (0, _GoogleApi2.default)({\n        apiKey: apiKey,\n        language: language,\n        libraries: libraries,\n        version: version,\n        url: url,\n        client: client,\n        region: region\n      })\n    });\n  };\n\n  var DefaultLoadingContainer = function DefaultLoadingContainer(props) {\n    return _react2.default.createElement(\n      'div',\n      null,\n      'Loading...'\n    );\n  };\n\n  var wrapper = exports.wrapper = function wrapper(input) {\n    return function (WrappedComponent) {\n      var Wrapper = function (_React$Component) {\n        _inherits(Wrapper, _React$Component);\n\n        function Wrapper(props, context) {\n          _classCallCheck(this, Wrapper);\n\n          // Build options from input\n          var _this = _possibleConstructorReturn(this, (Wrapper.__proto__ || Object.getPrototypeOf(Wrapper)).call(this, props, context));\n\n          var options = typeof input === 'function' ? input(props) : input;\n\n          // Initialize required Google scripts and other configured options\n          _this.initialize(options);\n\n          _this.state = {\n            loaded: false,\n            map: null,\n            google: null,\n            options: options\n          };\n\n          _this.mapRef = _react2.default.createRef();\n          return _this;\n        }\n\n        _createClass(Wrapper, [{\n          key: 'UNSAFE_componentWillReceiveProps',\n          value: function UNSAFE_componentWillReceiveProps(props) {\n            // Do not update input if it's not dynamic\n            if (typeof input !== 'function') {\n              return;\n            }\n\n            // Get options to compare\n            var prevOptions = this.state.options;\n            var options = typeof input === 'function' ? input(props) : input;\n\n            // Ignore when options are not changed\n            if (isSame(options, prevOptions)) {\n              return;\n            }\n\n            // Initialize with new options\n            this.initialize(options);\n\n            // Save new options in component state,\n            // and remove information about previous API handlers\n            this.setState({\n              options: options,\n              loaded: false,\n              google: null\n            });\n          }\n        }, {\n          key: 'componentWillUnmount',\n          value: function componentWillUnmount() {\n            if (this.unregisterLoadHandler) {\n              this.unregisterLoadHandler();\n            }\n          }\n        }, {\n          key: 'initialize',\n          value: function initialize(options) {\n            // Avoid race condition: remove previous 'load' listener\n            if (this.unregisterLoadHandler) {\n              this.unregisterLoadHandler();\n              this.unregisterLoadHandler = null;\n            }\n\n            // Load cache factory\n            var createCache = options.createCache || defaultCreateCache;\n\n            // Build script\n            this.scriptCache = createCache(options);\n            this.unregisterLoadHandler = this.scriptCache.google.onLoad(this.onLoad.bind(this));\n\n            // Store information about loading container\n            this.LoadingContainer = options.LoadingContainer || DefaultLoadingContainer;\n          }\n        }, {\n          key: 'onLoad',\n          value: function onLoad(err, tag) {\n            this._gapi = window.google;\n\n            this.setState({ loaded: true, google: this._gapi });\n          }\n        }, {\n          key: 'render',\n          value: function render() {\n            var LoadingContainer = this.LoadingContainer;\n\n            if (!this.state.loaded) {\n              return _react2.default.createElement(LoadingContainer, null);\n            }\n\n            var props = Object.assign({}, this.props, {\n              loaded: this.state.loaded,\n              google: window.google\n            });\n\n            return _react2.default.createElement(\n              'div',\n              null,\n              _react2.default.createElement(WrappedComponent, props),\n              _react2.default.createElement('div', { ref: this.mapRef })\n            );\n          }\n        }]);\n\n        return Wrapper;\n      }(_react2.default.Component);\n\n      return Wrapper;\n    };\n  };\n\n  exports.default = wrapper;\n});"]},"metadata":{},"sourceType":"script"}