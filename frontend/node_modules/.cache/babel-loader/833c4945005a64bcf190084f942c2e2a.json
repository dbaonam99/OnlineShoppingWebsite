{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport $ from '../../utils/dom';\nimport { extend, bindModuleMethods } from '../../utils/utils';\nvar Virtual = {\n  update: function update(force) {\n    var swiper = this;\n    var _swiper$params = swiper.params,\n        slidesPerView = _swiper$params.slidesPerView,\n        slidesPerGroup = _swiper$params.slidesPerGroup,\n        centeredSlides = _swiper$params.centeredSlides;\n    var _swiper$params$virtua = swiper.params.virtual,\n        addSlidesBefore = _swiper$params$virtua.addSlidesBefore,\n        addSlidesAfter = _swiper$params$virtua.addSlidesAfter;\n    var _swiper$virtual = swiper.virtual,\n        previousFrom = _swiper$virtual.from,\n        previousTo = _swiper$virtual.to,\n        slides = _swiper$virtual.slides,\n        previousSlidesGrid = _swiper$virtual.slidesGrid,\n        renderSlide = _swiper$virtual.renderSlide,\n        previousOffset = _swiper$virtual.offset;\n    swiper.updateActiveIndex();\n    var activeIndex = swiper.activeIndex || 0;\n    var offsetProp;\n    if (swiper.rtlTranslate) offsetProp = 'right';else offsetProp = swiper.isHorizontal() ? 'left' : 'top';\n    var slidesAfter;\n    var slidesBefore;\n\n    if (centeredSlides) {\n      slidesAfter = Math.floor(slidesPerView / 2) + slidesPerGroup + addSlidesAfter;\n      slidesBefore = Math.floor(slidesPerView / 2) + slidesPerGroup + addSlidesBefore;\n    } else {\n      slidesAfter = slidesPerView + (slidesPerGroup - 1) + addSlidesAfter;\n      slidesBefore = slidesPerGroup + addSlidesBefore;\n    }\n\n    var from = Math.max((activeIndex || 0) - slidesBefore, 0);\n    var to = Math.min((activeIndex || 0) + slidesAfter, slides.length - 1);\n    var offset = (swiper.slidesGrid[from] || 0) - (swiper.slidesGrid[0] || 0);\n    extend(swiper.virtual, {\n      from: from,\n      to: to,\n      offset: offset,\n      slidesGrid: swiper.slidesGrid\n    });\n\n    function onRendered() {\n      swiper.updateSlides();\n      swiper.updateProgress();\n      swiper.updateSlidesClasses();\n\n      if (swiper.lazy && swiper.params.lazy.enabled) {\n        swiper.lazy.load();\n      }\n    }\n\n    if (previousFrom === from && previousTo === to && !force) {\n      if (swiper.slidesGrid !== previousSlidesGrid && offset !== previousOffset) {\n        swiper.slides.css(offsetProp, offset + \"px\");\n      }\n\n      swiper.updateProgress();\n      return;\n    }\n\n    if (swiper.params.virtual.renderExternal) {\n      swiper.params.virtual.renderExternal.call(swiper, {\n        offset: offset,\n        from: from,\n        to: to,\n        slides: function getSlides() {\n          var slidesToRender = [];\n\n          for (var i = from; i <= to; i += 1) {\n            slidesToRender.push(slides[i]);\n          }\n\n          return slidesToRender;\n        }()\n      });\n\n      if (swiper.params.virtual.renderExternalUpdate) {\n        onRendered();\n      }\n\n      return;\n    }\n\n    var prependIndexes = [];\n    var appendIndexes = [];\n\n    if (force) {\n      swiper.$wrapperEl.find(\".\" + swiper.params.slideClass).remove();\n    } else {\n      for (var i = previousFrom; i <= previousTo; i += 1) {\n        if (i < from || i > to) {\n          swiper.$wrapperEl.find(\".\" + swiper.params.slideClass + \"[data-swiper-slide-index=\\\"\" + i + \"\\\"]\").remove();\n        }\n      }\n    }\n\n    for (var _i = 0; _i < slides.length; _i += 1) {\n      if (_i >= from && _i <= to) {\n        if (typeof previousTo === 'undefined' || force) {\n          appendIndexes.push(_i);\n        } else {\n          if (_i > previousTo) appendIndexes.push(_i);\n          if (_i < previousFrom) prependIndexes.push(_i);\n        }\n      }\n    }\n\n    appendIndexes.forEach(function (index) {\n      swiper.$wrapperEl.append(renderSlide(slides[index], index));\n    });\n    prependIndexes.sort(function (a, b) {\n      return b - a;\n    }).forEach(function (index) {\n      swiper.$wrapperEl.prepend(renderSlide(slides[index], index));\n    });\n    swiper.$wrapperEl.children('.swiper-slide').css(offsetProp, offset + \"px\");\n    onRendered();\n  },\n  renderSlide: function renderSlide(slide, index) {\n    var swiper = this;\n    var params = swiper.params.virtual;\n\n    if (params.cache && swiper.virtual.cache[index]) {\n      return swiper.virtual.cache[index];\n    }\n\n    var $slideEl = params.renderSlide ? $(params.renderSlide.call(swiper, slide, index)) : $(\"<div class=\\\"\" + swiper.params.slideClass + \"\\\" data-swiper-slide-index=\\\"\" + index + \"\\\">\" + slide + \"</div>\");\n    if (!$slideEl.attr('data-swiper-slide-index')) $slideEl.attr('data-swiper-slide-index', index);\n    if (params.cache) swiper.virtual.cache[index] = $slideEl;\n    return $slideEl;\n  },\n  appendSlide: function appendSlide(slides) {\n    var swiper = this;\n\n    if (typeof slides === 'object' && 'length' in slides) {\n      for (var i = 0; i < slides.length; i += 1) {\n        if (slides[i]) swiper.virtual.slides.push(slides[i]);\n      }\n    } else {\n      swiper.virtual.slides.push(slides);\n    }\n\n    swiper.virtual.update(true);\n  },\n  prependSlide: function prependSlide(slides) {\n    var swiper = this;\n    var activeIndex = swiper.activeIndex;\n    var newActiveIndex = activeIndex + 1;\n    var numberOfNewSlides = 1;\n\n    if (Array.isArray(slides)) {\n      for (var i = 0; i < slides.length; i += 1) {\n        if (slides[i]) swiper.virtual.slides.unshift(slides[i]);\n      }\n\n      newActiveIndex = activeIndex + slides.length;\n      numberOfNewSlides = slides.length;\n    } else {\n      swiper.virtual.slides.unshift(slides);\n    }\n\n    if (swiper.params.virtual.cache) {\n      var cache = swiper.virtual.cache;\n      var newCache = {};\n      Object.keys(cache).forEach(function (cachedIndex) {\n        var $cachedEl = cache[cachedIndex];\n        var cachedElIndex = $cachedEl.attr('data-swiper-slide-index');\n\n        if (cachedElIndex) {\n          $cachedEl.attr('data-swiper-slide-index', parseInt(cachedElIndex, 10) + 1);\n        }\n\n        newCache[parseInt(cachedIndex, 10) + numberOfNewSlides] = $cachedEl;\n      });\n      swiper.virtual.cache = newCache;\n    }\n\n    swiper.virtual.update(true);\n    swiper.slideTo(newActiveIndex, 0);\n  },\n  removeSlide: function removeSlide(slidesIndexes) {\n    var swiper = this;\n    if (typeof slidesIndexes === 'undefined' || slidesIndexes === null) return;\n    var activeIndex = swiper.activeIndex;\n\n    if (Array.isArray(slidesIndexes)) {\n      for (var i = slidesIndexes.length - 1; i >= 0; i -= 1) {\n        swiper.virtual.slides.splice(slidesIndexes[i], 1);\n\n        if (swiper.params.virtual.cache) {\n          delete swiper.virtual.cache[slidesIndexes[i]];\n        }\n\n        if (slidesIndexes[i] < activeIndex) activeIndex -= 1;\n        activeIndex = Math.max(activeIndex, 0);\n      }\n    } else {\n      swiper.virtual.slides.splice(slidesIndexes, 1);\n\n      if (swiper.params.virtual.cache) {\n        delete swiper.virtual.cache[slidesIndexes];\n      }\n\n      if (slidesIndexes < activeIndex) activeIndex -= 1;\n      activeIndex = Math.max(activeIndex, 0);\n    }\n\n    swiper.virtual.update(true);\n    swiper.slideTo(activeIndex, 0);\n  },\n  removeAllSlides: function removeAllSlides() {\n    var swiper = this;\n    swiper.virtual.slides = [];\n\n    if (swiper.params.virtual.cache) {\n      swiper.virtual.cache = {};\n    }\n\n    swiper.virtual.update(true);\n    swiper.slideTo(0, 0);\n  }\n};\nexport default {\n  name: 'virtual',\n  params: {\n    virtual: {\n      enabled: false,\n      slides: [],\n      cache: true,\n      renderSlide: null,\n      renderExternal: null,\n      renderExternalUpdate: true,\n      addSlidesBefore: 0,\n      addSlidesAfter: 0\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      virtual: _extends(_extends({}, Virtual), {}, {\n        slides: swiper.params.virtual.slides,\n        cache: {}\n      })\n    });\n  },\n  on: {\n    beforeInit: function beforeInit(swiper) {\n      if (!swiper.params.virtual.enabled) return;\n      swiper.classNames.push(swiper.params.containerModifierClass + \"virtual\");\n      var overwriteParams = {\n        watchSlidesProgress: true\n      };\n      extend(swiper.params, overwriteParams);\n      extend(swiper.originalParams, overwriteParams);\n\n      if (!swiper.params.initialSlide) {\n        swiper.virtual.update();\n      }\n    },\n    setTranslate: function setTranslate(swiper) {\n      if (!swiper.params.virtual.enabled) return;\n      swiper.virtual.update();\n    }\n  }\n};","map":{"version":3,"sources":["/Users/namduong/Documents/dev/shop-project/node_modules/swiper/esm/components/virtual/virtual.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","$","extend","bindModuleMethods","Virtual","update","force","swiper","_swiper$params","params","slidesPerView","slidesPerGroup","centeredSlides","_swiper$params$virtua","virtual","addSlidesBefore","addSlidesAfter","_swiper$virtual","previousFrom","from","previousTo","to","slides","previousSlidesGrid","slidesGrid","renderSlide","previousOffset","offset","updateActiveIndex","activeIndex","offsetProp","rtlTranslate","isHorizontal","slidesAfter","slidesBefore","Math","floor","max","min","onRendered","updateSlides","updateProgress","updateSlidesClasses","lazy","enabled","load","css","renderExternal","getSlides","slidesToRender","push","renderExternalUpdate","prependIndexes","appendIndexes","$wrapperEl","find","slideClass","remove","_i","forEach","index","append","sort","a","b","prepend","children","slide","cache","$slideEl","attr","appendSlide","prependSlide","newActiveIndex","numberOfNewSlides","Array","isArray","unshift","newCache","keys","cachedIndex","$cachedEl","cachedElIndex","parseInt","slideTo","removeSlide","slidesIndexes","splice","removeAllSlides","name","create","on","beforeInit","classNames","containerModifierClass","overwriteParams","watchSlidesProgress","originalParams","initialSlide","setTranslate"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport $ from '../../utils/dom';\nimport { extend, bindModuleMethods } from '../../utils/utils';\nvar Virtual = {\n  update: function update(force) {\n    var swiper = this;\n    var _swiper$params = swiper.params,\n        slidesPerView = _swiper$params.slidesPerView,\n        slidesPerGroup = _swiper$params.slidesPerGroup,\n        centeredSlides = _swiper$params.centeredSlides;\n    var _swiper$params$virtua = swiper.params.virtual,\n        addSlidesBefore = _swiper$params$virtua.addSlidesBefore,\n        addSlidesAfter = _swiper$params$virtua.addSlidesAfter;\n    var _swiper$virtual = swiper.virtual,\n        previousFrom = _swiper$virtual.from,\n        previousTo = _swiper$virtual.to,\n        slides = _swiper$virtual.slides,\n        previousSlidesGrid = _swiper$virtual.slidesGrid,\n        renderSlide = _swiper$virtual.renderSlide,\n        previousOffset = _swiper$virtual.offset;\n    swiper.updateActiveIndex();\n    var activeIndex = swiper.activeIndex || 0;\n    var offsetProp;\n    if (swiper.rtlTranslate) offsetProp = 'right';else offsetProp = swiper.isHorizontal() ? 'left' : 'top';\n    var slidesAfter;\n    var slidesBefore;\n\n    if (centeredSlides) {\n      slidesAfter = Math.floor(slidesPerView / 2) + slidesPerGroup + addSlidesAfter;\n      slidesBefore = Math.floor(slidesPerView / 2) + slidesPerGroup + addSlidesBefore;\n    } else {\n      slidesAfter = slidesPerView + (slidesPerGroup - 1) + addSlidesAfter;\n      slidesBefore = slidesPerGroup + addSlidesBefore;\n    }\n\n    var from = Math.max((activeIndex || 0) - slidesBefore, 0);\n    var to = Math.min((activeIndex || 0) + slidesAfter, slides.length - 1);\n    var offset = (swiper.slidesGrid[from] || 0) - (swiper.slidesGrid[0] || 0);\n    extend(swiper.virtual, {\n      from: from,\n      to: to,\n      offset: offset,\n      slidesGrid: swiper.slidesGrid\n    });\n\n    function onRendered() {\n      swiper.updateSlides();\n      swiper.updateProgress();\n      swiper.updateSlidesClasses();\n\n      if (swiper.lazy && swiper.params.lazy.enabled) {\n        swiper.lazy.load();\n      }\n    }\n\n    if (previousFrom === from && previousTo === to && !force) {\n      if (swiper.slidesGrid !== previousSlidesGrid && offset !== previousOffset) {\n        swiper.slides.css(offsetProp, offset + \"px\");\n      }\n\n      swiper.updateProgress();\n      return;\n    }\n\n    if (swiper.params.virtual.renderExternal) {\n      swiper.params.virtual.renderExternal.call(swiper, {\n        offset: offset,\n        from: from,\n        to: to,\n        slides: function getSlides() {\n          var slidesToRender = [];\n\n          for (var i = from; i <= to; i += 1) {\n            slidesToRender.push(slides[i]);\n          }\n\n          return slidesToRender;\n        }()\n      });\n\n      if (swiper.params.virtual.renderExternalUpdate) {\n        onRendered();\n      }\n\n      return;\n    }\n\n    var prependIndexes = [];\n    var appendIndexes = [];\n\n    if (force) {\n      swiper.$wrapperEl.find(\".\" + swiper.params.slideClass).remove();\n    } else {\n      for (var i = previousFrom; i <= previousTo; i += 1) {\n        if (i < from || i > to) {\n          swiper.$wrapperEl.find(\".\" + swiper.params.slideClass + \"[data-swiper-slide-index=\\\"\" + i + \"\\\"]\").remove();\n        }\n      }\n    }\n\n    for (var _i = 0; _i < slides.length; _i += 1) {\n      if (_i >= from && _i <= to) {\n        if (typeof previousTo === 'undefined' || force) {\n          appendIndexes.push(_i);\n        } else {\n          if (_i > previousTo) appendIndexes.push(_i);\n          if (_i < previousFrom) prependIndexes.push(_i);\n        }\n      }\n    }\n\n    appendIndexes.forEach(function (index) {\n      swiper.$wrapperEl.append(renderSlide(slides[index], index));\n    });\n    prependIndexes.sort(function (a, b) {\n      return b - a;\n    }).forEach(function (index) {\n      swiper.$wrapperEl.prepend(renderSlide(slides[index], index));\n    });\n    swiper.$wrapperEl.children('.swiper-slide').css(offsetProp, offset + \"px\");\n    onRendered();\n  },\n  renderSlide: function renderSlide(slide, index) {\n    var swiper = this;\n    var params = swiper.params.virtual;\n\n    if (params.cache && swiper.virtual.cache[index]) {\n      return swiper.virtual.cache[index];\n    }\n\n    var $slideEl = params.renderSlide ? $(params.renderSlide.call(swiper, slide, index)) : $(\"<div class=\\\"\" + swiper.params.slideClass + \"\\\" data-swiper-slide-index=\\\"\" + index + \"\\\">\" + slide + \"</div>\");\n    if (!$slideEl.attr('data-swiper-slide-index')) $slideEl.attr('data-swiper-slide-index', index);\n    if (params.cache) swiper.virtual.cache[index] = $slideEl;\n    return $slideEl;\n  },\n  appendSlide: function appendSlide(slides) {\n    var swiper = this;\n\n    if (typeof slides === 'object' && 'length' in slides) {\n      for (var i = 0; i < slides.length; i += 1) {\n        if (slides[i]) swiper.virtual.slides.push(slides[i]);\n      }\n    } else {\n      swiper.virtual.slides.push(slides);\n    }\n\n    swiper.virtual.update(true);\n  },\n  prependSlide: function prependSlide(slides) {\n    var swiper = this;\n    var activeIndex = swiper.activeIndex;\n    var newActiveIndex = activeIndex + 1;\n    var numberOfNewSlides = 1;\n\n    if (Array.isArray(slides)) {\n      for (var i = 0; i < slides.length; i += 1) {\n        if (slides[i]) swiper.virtual.slides.unshift(slides[i]);\n      }\n\n      newActiveIndex = activeIndex + slides.length;\n      numberOfNewSlides = slides.length;\n    } else {\n      swiper.virtual.slides.unshift(slides);\n    }\n\n    if (swiper.params.virtual.cache) {\n      var cache = swiper.virtual.cache;\n      var newCache = {};\n      Object.keys(cache).forEach(function (cachedIndex) {\n        var $cachedEl = cache[cachedIndex];\n        var cachedElIndex = $cachedEl.attr('data-swiper-slide-index');\n\n        if (cachedElIndex) {\n          $cachedEl.attr('data-swiper-slide-index', parseInt(cachedElIndex, 10) + 1);\n        }\n\n        newCache[parseInt(cachedIndex, 10) + numberOfNewSlides] = $cachedEl;\n      });\n      swiper.virtual.cache = newCache;\n    }\n\n    swiper.virtual.update(true);\n    swiper.slideTo(newActiveIndex, 0);\n  },\n  removeSlide: function removeSlide(slidesIndexes) {\n    var swiper = this;\n    if (typeof slidesIndexes === 'undefined' || slidesIndexes === null) return;\n    var activeIndex = swiper.activeIndex;\n\n    if (Array.isArray(slidesIndexes)) {\n      for (var i = slidesIndexes.length - 1; i >= 0; i -= 1) {\n        swiper.virtual.slides.splice(slidesIndexes[i], 1);\n\n        if (swiper.params.virtual.cache) {\n          delete swiper.virtual.cache[slidesIndexes[i]];\n        }\n\n        if (slidesIndexes[i] < activeIndex) activeIndex -= 1;\n        activeIndex = Math.max(activeIndex, 0);\n      }\n    } else {\n      swiper.virtual.slides.splice(slidesIndexes, 1);\n\n      if (swiper.params.virtual.cache) {\n        delete swiper.virtual.cache[slidesIndexes];\n      }\n\n      if (slidesIndexes < activeIndex) activeIndex -= 1;\n      activeIndex = Math.max(activeIndex, 0);\n    }\n\n    swiper.virtual.update(true);\n    swiper.slideTo(activeIndex, 0);\n  },\n  removeAllSlides: function removeAllSlides() {\n    var swiper = this;\n    swiper.virtual.slides = [];\n\n    if (swiper.params.virtual.cache) {\n      swiper.virtual.cache = {};\n    }\n\n    swiper.virtual.update(true);\n    swiper.slideTo(0, 0);\n  }\n};\nexport default {\n  name: 'virtual',\n  params: {\n    virtual: {\n      enabled: false,\n      slides: [],\n      cache: true,\n      renderSlide: null,\n      renderExternal: null,\n      renderExternalUpdate: true,\n      addSlidesBefore: 0,\n      addSlidesAfter: 0\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      virtual: _extends(_extends({}, Virtual), {}, {\n        slides: swiper.params.virtual.slides,\n        cache: {}\n      })\n    });\n  },\n  on: {\n    beforeInit: function beforeInit(swiper) {\n      if (!swiper.params.virtual.enabled) return;\n      swiper.classNames.push(swiper.params.containerModifierClass + \"virtual\");\n      var overwriteParams = {\n        watchSlidesProgress: true\n      };\n      extend(swiper.params, overwriteParams);\n      extend(swiper.originalParams, overwriteParams);\n\n      if (!swiper.params.initialSlide) {\n        swiper.virtual.update();\n      }\n    },\n    setTranslate: function setTranslate(swiper) {\n      if (!swiper.params.virtual.enabled) return;\n      swiper.virtual.update();\n    }\n  }\n};"]},"metadata":{},"sourceType":"module"}