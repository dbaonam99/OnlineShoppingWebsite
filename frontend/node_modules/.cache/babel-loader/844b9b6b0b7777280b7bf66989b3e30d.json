{"ast":null,"code":"(function (root, factory) {\n  if (typeof module !== 'undefined' && module.exports) {\n    module.exports = factory();\n  } else {\n    root.ImageZoom = factory();\n  }\n})(this, function () {\n  /**\n   * @param {Object} container DOM element, which contains an image to be zoomed (required)\n   * @param {Object} options js-image-zoom options (required)\n   * **width** (number) - width of the source image (optional)\n   * **height** (number) - height of the source image (optional).\n   * **zoomWidth** (number) - width of the zoomed image. Zoomed image height equals source image height (optional)\n   * **img** (string) - url of the source image. Provided if container does not contain img element as a tag (optional)\n   * **scale** (number) - zoom scale. if not provided, scale is calculated as natural image size / image size, provided in params (optional if zoomWidth param is provided)\n   * **offset** (object) - {vertical: number, horizontal: number}. Zoomed image offset (optional)\n   * **zoomContainer** (node) - DOM node reference where zoomedImage will be appended to (default to the container element of image)\n   * **zoomStyle** (string) - custom style applied to the zoomed image (i.e. 'opacity: 0.1;background-color: white;')\n   * **zoomPosition** (string) - position of zoomed image. It can be:  `top`, `left`, `bottom`, `original` or the default `right`.\n   * **zoomLensStyle** (string) custom style applied to to zoom lents (i.e. 'opacity: 0.1;background-color: white;')\n   */\n  return function ImageZoom(container, opts) {\n    \"use strict\";\n\n    var options = opts;\n\n    if (!container) {\n      return;\n    }\n\n    var data = {\n      sourceImg: {\n        element: null,\n        width: 0,\n        height: 0,\n        naturalWidth: 0,\n        naturalHeight: 0\n      },\n      zoomedImgOffset: {\n        vertical: 0,\n        horizontal: 0\n      },\n      zoomedImg: {\n        element: null,\n        width: 0,\n        height: 0\n      },\n      zoomLens: {\n        element: null,\n        width: 0,\n        height: 0\n      }\n    };\n    var div = document.createElement('div');\n    var lensDiv = document.createElement('div');\n    var scaleX;\n    var scaleY;\n    var offset;\n    data.zoomedImgOffset = {\n      vertical: options.offset && options.offset.vertical ? options.offset.vertical : 0,\n      horizontal: options.offset && options.offset.horizontal ? options.offset.horizontal : 0\n    };\n    data.zoomPosition = options.zoomPosition || 'right';\n    data.zoomContainer = options.zoomContainer ? options.zoomContainer : container;\n\n    function getOffset(el) {\n      if (el) {\n        var elRect = el.getBoundingClientRect();\n        return {\n          left: elRect.left,\n          top: elRect.top\n        };\n      }\n\n      return {\n        left: 0,\n        top: 0\n      };\n    }\n\n    function leftLimit(min) {\n      return options.width - min;\n    }\n\n    function topLimit(min) {\n      return options.height - min;\n    }\n\n    function getValue(val, min, max) {\n      if (val < min) {\n        return min;\n      }\n\n      if (val > max) {\n        return max;\n      }\n\n      return val;\n    }\n\n    function getPosition(v, min, max) {\n      var value = getValue(v, min, max);\n      return value - min;\n    }\n\n    function zoomLensLeft(left) {\n      var leftMin = data.zoomLens.width / 2;\n      return getPosition(left, leftMin, leftLimit(leftMin));\n    }\n\n    function zoomLensTop(top) {\n      var topMin = data.zoomLens.height / 2;\n      return getPosition(top, topMin, topLimit(topMin));\n    }\n\n    function setZoomedImgSize(options, data) {\n      if (options.scale) {\n        data.zoomedImg.element.style.width = options.width * options.scale + 'px';\n        data.zoomedImg.element.style.height = options.height * options.scale + 'px';\n      } else if (options.zoomWidth) {\n        data.zoomedImg.element.style.width = options.zoomWidth + 'px';\n        data.zoomedImg.element.style.height = data.sourceImg.element.style.height;\n      } else {\n        data.zoomedImg.element.style.width = '100%';\n        data.zoomedImg.element.style.height = '100%';\n      }\n    }\n\n    function onSourceImgLoad() {\n      // use height determined by browser if height is not set in options\n      options.height = options.height || data.sourceImg.element.height;\n      data.sourceImg.element.style.height = options.height + 'px'; // use width determined by browser if width is not set in options\n\n      options.width = options.width || data.sourceImg.element.width;\n      data.sourceImg.element.style.width = options.width + 'px';\n      setZoomedImgSize(options, data);\n      data.sourceImg.naturalWidth = data.sourceImg.element.naturalWidth;\n      data.sourceImg.naturalHeight = data.sourceImg.element.naturalHeight;\n      data.zoomedImg.element.style.backgroundSize = data.sourceImg.naturalWidth + 'px ' + data.sourceImg.naturalHeight + 'px';\n\n      if (options.zoomStyle) {\n        data.zoomedImg.element.style.cssText += options.zoomStyle;\n      }\n\n      if (options.zoomLensStyle) {\n        data.zoomLens.element.style.cssText += options.zoomLensStyle;\n      } else {\n        data.zoomLens.element.style.background = 'white';\n        data.zoomLens.element.style.opacity = '0.4';\n      }\n\n      scaleX = data.sourceImg.naturalWidth / options.width;\n      scaleY = data.sourceImg.naturalHeight / options.height;\n      offset = getOffset(data.sourceImg.element); // set zoomLens dimensions\n      // if custom scale is set\n\n      if (options.scale) {\n        data.zoomLens.width = options.width / (data.sourceImg.naturalWidth / (options.width * options.scale));\n        data.zoomLens.height = options.height / (data.sourceImg.naturalHeight / (options.height * options.scale));\n      } // else if zoomWidth is set\n      else if (options.zoomWidth) {\n          data.zoomLens.width = options.zoomWidth / scaleX;\n          data.zoomLens.height = options.height / scaleY;\n        } // else read from the zoomedImg\n        else {\n            data.zoomedImg.element.style.display = 'block';\n            data.zoomLens.width = data.zoomedImg.element.clientWidth / scaleX;\n            data.zoomLens.height = data.zoomedImg.element.clientHeight / scaleY;\n            data.zoomedImg.element.style.display = 'none';\n          }\n\n      data.zoomLens.element.style.position = 'absolute';\n      data.zoomLens.element.style.width = data.zoomLens.width + 'px';\n      data.zoomLens.element.style.height = data.zoomLens.height + 'px';\n      data.zoomLens.element.pointerEvents = 'none';\n    }\n\n    function setup() {\n      // create sourceImg element\n      if (options.img) {\n        var img = document.createElement('img');\n        img.src = options.img;\n        data.sourceImg.element = container.appendChild(img);\n      } // or get sourceImg element from specified container\n      else {\n          data.sourceImg.element = container.children[0]; // if sourceImg is not an img (might be a picture element), try to find one\n\n          if (data.sourceImg.element.nodeName !== \"IMG\") {\n            data.sourceImg.element = data.sourceImg.element.querySelector('img');\n          }\n        }\n\n      options = options || {};\n      container.style.position = 'relative';\n      data.sourceImg.element.style.width = options.width ? options.width + 'px' : 'auto';\n      data.sourceImg.element.style.height = options.height ? options.height + 'px' : 'auto';\n      data.zoomLens.element = container.appendChild(lensDiv);\n      data.zoomLens.element.style.display = 'none';\n      data.zoomLens.element.classList.add('js-image-zoom__zoomed-area');\n      data.zoomedImg.element = data.zoomContainer.appendChild(div);\n      data.zoomedImg.element.classList.add('js-image-zoom__zoomed-image');\n      data.zoomedImg.element.style.backgroundImage = \"url('\" + data.sourceImg.element.src + \"')\";\n      data.zoomedImg.element.style.backgroundRepeat = 'no-repeat';\n      data.zoomedImg.element.style.display = 'none';\n\n      switch (data.zoomPosition) {\n        case 'left':\n          data.zoomedImg.element.style.position = 'absolute';\n          data.zoomedImg.element.style.top = data.zoomedImgOffset.vertical + 'px';\n          data.zoomedImg.element.style.left = data.zoomedImgOffset.horizontal - data.zoomedImgOffset.horizontal * 2 + 'px';\n          data.zoomedImg.element.style.transform = 'translateX(-100%)';\n          break;\n\n        case 'top':\n          data.zoomedImg.element.style.position = 'absolute';\n          data.zoomedImg.element.style.top = data.zoomedImgOffset.vertical - data.zoomedImgOffset.vertical * 2 + 'px';\n          data.zoomedImg.element.style.left = 'calc(50% + ' + data.zoomedImgOffset.horizontal + 'px)';\n          data.zoomedImg.element.style.transform = 'translate3d(-50%, -100%, 0)';\n          break;\n\n        case 'bottom':\n          data.zoomedImg.element.style.position = 'absolute';\n          data.zoomedImg.element.style.bottom = data.zoomedImgOffset.vertical - data.zoomedImgOffset.vertical * 2 + 'px';\n          data.zoomedImg.element.style.left = 'calc(50% + ' + data.zoomedImgOffset.horizontal + 'px)';\n          data.zoomedImg.element.style.transform = 'translate3d(-50%, 100%, 0)';\n          break;\n\n        case 'original':\n          data.zoomedImg.element.style.position = 'absolute';\n          data.zoomedImg.element.style.top = '0px';\n          data.zoomedImg.element.style.left = '0px';\n          break;\n        // Right Position\n\n        default:\n          data.zoomedImg.element.style.position = 'absolute';\n          data.zoomedImg.element.style.top = data.zoomedImgOffset.vertical + 'px';\n          data.zoomedImg.element.style.right = data.zoomedImgOffset.horizontal - data.zoomedImgOffset.horizontal * 2 + 'px';\n          data.zoomedImg.element.style.transform = 'translateX(100%)';\n          break;\n      } // setup event listeners\n\n\n      container.addEventListener('mousemove', events, false);\n      container.addEventListener('mouseenter', events, false);\n      container.addEventListener('mouseleave', events, false);\n      data.zoomLens.element.addEventListener('mouseenter', events, false);\n      data.zoomLens.element.addEventListener('mouseleave', events, false);\n      window.addEventListener('scroll', events, false);\n      return data;\n    }\n\n    function kill() {\n      // remove event listeners\n      container.removeEventListener('mousemove', events, false);\n      container.removeEventListener('mouseenter', events, false);\n      container.removeEventListener('mouseleave', events, false);\n      data.zoomLens.element.removeEventListener('mouseenter', events, false);\n      data.zoomLens.element.removeEventListener('mouseleave', events, false);\n      window.removeEventListener('scroll', events, false); // remove dom nodes\n\n      if (data.zoomLens && data.zoomedImg) {\n        container.removeChild(data.zoomLens.element);\n        data.zoomContainer.removeChild(data.zoomedImg.element);\n      }\n\n      if (options.img) {\n        container.removeChild(data.sourceImg.element);\n      } else {\n        data.sourceImg.element.style.width = '';\n        data.sourceImg.element.style.height = '';\n      }\n\n      return data;\n    }\n\n    var events = {\n      handleEvent: function (event) {\n        switch (event.type) {\n          case 'mousemove':\n            return this.handleMouseMove(event);\n\n          case 'mouseenter':\n            return this.handleMouseEnter(event);\n\n          case 'mouseleave':\n            return this.handleMouseLeave(event);\n\n          case 'scroll':\n            return this.handleScroll(event);\n        }\n      },\n      handleMouseMove: function (event) {\n        var offsetX;\n        var offsetY;\n        var backgroundTop;\n        var backgroundRight;\n        var backgroundPosition;\n\n        if (offset) {\n          offsetX = zoomLensLeft(event.clientX - offset.left);\n          offsetY = zoomLensTop(event.clientY - offset.top);\n          backgroundTop = offsetX * scaleX;\n          backgroundRight = offsetY * scaleY;\n          backgroundPosition = '-' + backgroundTop + 'px ' + '-' + backgroundRight + 'px';\n          data.zoomedImg.element.style.backgroundPosition = backgroundPosition;\n          data.zoomLens.element.style.cssText += 'top:' + offsetY + 'px;' + 'left:' + offsetX + 'px;display: block;';\n        }\n      },\n      handleMouseEnter: function () {\n        data.zoomedImg.element.style.display = 'block';\n        data.zoomLens.element.style.display = 'block';\n      },\n      handleMouseLeave: function () {\n        data.zoomedImg.element.style.display = 'none';\n        data.zoomLens.element.style.display = 'none';\n      },\n      handleScroll: function () {\n        offset = getOffset(data.sourceImg.element);\n      }\n    }; // Setup/Initialize library\n\n    setup();\n\n    if (data.sourceImg.element.complete) {\n      onSourceImgLoad();\n    } else {\n      data.sourceImg.element.onload = onSourceImgLoad;\n    }\n\n    return {\n      setup: function () {\n        setup();\n      },\n      kill: function () {\n        kill();\n      },\n      _getInstanceInfo: function () {\n        return {\n          setup: setup,\n          kill: kill,\n          onSourceImgLoad: onSourceImgLoad,\n          data: data,\n          options: options\n        };\n      }\n    };\n  };\n});","map":{"version":3,"sources":["/Users/namduong/Documents/dev/shop-project/node_modules/js-image-zoom/js-image-zoom.js"],"names":["root","factory","module","exports","ImageZoom","container","opts","options","data","sourceImg","element","width","height","naturalWidth","naturalHeight","zoomedImgOffset","vertical","horizontal","zoomedImg","zoomLens","div","document","createElement","lensDiv","scaleX","scaleY","offset","zoomPosition","zoomContainer","getOffset","el","elRect","getBoundingClientRect","left","top","leftLimit","min","topLimit","getValue","val","max","getPosition","v","value","zoomLensLeft","leftMin","zoomLensTop","topMin","setZoomedImgSize","scale","style","zoomWidth","onSourceImgLoad","backgroundSize","zoomStyle","cssText","zoomLensStyle","background","opacity","display","clientWidth","clientHeight","position","pointerEvents","setup","img","src","appendChild","children","nodeName","querySelector","classList","add","backgroundImage","backgroundRepeat","transform","bottom","right","addEventListener","events","window","kill","removeEventListener","removeChild","handleEvent","event","type","handleMouseMove","handleMouseEnter","handleMouseLeave","handleScroll","offsetX","offsetY","backgroundTop","backgroundRight","backgroundPosition","clientX","clientY","complete","onload","_getInstanceInfo"],"mappings":"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","sourcesContent":["(function (root, factory) {\n    if (typeof module !== 'undefined' && module.exports) {\n        module.exports = factory();\n    } else {\n        root.ImageZoom = factory();\n    }\n}(this, function () {\n    /**\n     * @param {Object} container DOM element, which contains an image to be zoomed (required)\n     * @param {Object} options js-image-zoom options (required)\n     * **width** (number) - width of the source image (optional)\n     * **height** (number) - height of the source image (optional).\n     * **zoomWidth** (number) - width of the zoomed image. Zoomed image height equals source image height (optional)\n     * **img** (string) - url of the source image. Provided if container does not contain img element as a tag (optional)\n     * **scale** (number) - zoom scale. if not provided, scale is calculated as natural image size / image size, provided in params (optional if zoomWidth param is provided)\n     * **offset** (object) - {vertical: number, horizontal: number}. Zoomed image offset (optional)\n     * **zoomContainer** (node) - DOM node reference where zoomedImage will be appended to (default to the container element of image)\n     * **zoomStyle** (string) - custom style applied to the zoomed image (i.e. 'opacity: 0.1;background-color: white;')\n     * **zoomPosition** (string) - position of zoomed image. It can be:  `top`, `left`, `bottom`, `original` or the default `right`.\n     * **zoomLensStyle** (string) custom style applied to to zoom lents (i.e. 'opacity: 0.1;background-color: white;')\n     */\n    return function ImageZoom(container, opts) {\n        \"use strict\";\n        var options = opts;\n        if (!container) {\n            return;\n        }\n        var data = {\n            sourceImg: {\n                element: null,\n                width: 0,\n                height: 0,\n                naturalWidth: 0,\n                naturalHeight: 0\n            },\n            zoomedImgOffset: {\n                vertical: 0,\n                horizontal: 0\n            },\n            zoomedImg: {\n                element: null,\n                width: 0,\n                height: 0\n            },\n            zoomLens: {\n                element: null,\n                width: 0,\n                height: 0\n            }\n        };\n\n        var div = document.createElement('div');\n        var lensDiv = document.createElement('div');\n        var scaleX;\n        var scaleY;\n        var offset;\n        data.zoomedImgOffset = {\n            vertical: options.offset && options.offset.vertical ? options.offset.vertical : 0,\n            horizontal: options.offset && options.offset.horizontal ? options.offset.horizontal : 0\n        };\n        data.zoomPosition = options.zoomPosition || 'right';\n        data.zoomContainer = (options.zoomContainer) ? options.zoomContainer : container;\n        function getOffset(el) {\n            if (el) {\n                var elRect = el.getBoundingClientRect();\n                return {left: elRect.left, top: elRect.top};\n            }\n            return {left: 0, top: 0};\n        }\n\n        function leftLimit(min) {\n            return options.width - min;\n        }\n\n        function topLimit(min) {\n            return options.height - min;\n        }\n\n        function getValue(val, min, max) {\n            if (val < min) {\n                return min;\n            }\n            if (val > max) {\n                return max;\n            }\n            return val;\n        }\n\n        function getPosition(v, min, max) {\n            var value = getValue(v, min, max);\n            return value - min;\n        }\n\n        function zoomLensLeft(left) {\n            var leftMin = data.zoomLens.width / 2;\n            return getPosition(left, leftMin, leftLimit(leftMin));\n        }\n\n        function zoomLensTop(top) {\n            var topMin = data.zoomLens.height / 2;\n            return getPosition(top, topMin, topLimit(topMin));\n        }\n\n        function setZoomedImgSize(options, data) {\n            if (options.scale) {\n                data.zoomedImg.element.style.width = options.width * options.scale + 'px';\n                data.zoomedImg.element.style.height = options.height * options.scale + 'px';\n            } else if (options.zoomWidth) {\n                data.zoomedImg.element.style.width = options.zoomWidth + 'px';\n                data.zoomedImg.element.style.height = data.sourceImg.element.style.height;\n            } else {\n                data.zoomedImg.element.style.width = '100%';\n                data.zoomedImg.element.style.height = '100%';\n            }\n        }\n\n        function onSourceImgLoad() {\n            // use height determined by browser if height is not set in options\n            options.height = options.height || data.sourceImg.element.height;\n            data.sourceImg.element.style.height = options.height + 'px';\n\n            // use width determined by browser if width is not set in options\n            options.width = options.width || data.sourceImg.element.width;\n            data.sourceImg.element.style.width = options.width + 'px';\n\n            setZoomedImgSize(options, data);\n\n            data.sourceImg.naturalWidth = data.sourceImg.element.naturalWidth;\n            data.sourceImg.naturalHeight = data.sourceImg.element.naturalHeight;\n            data.zoomedImg.element.style.backgroundSize = data.sourceImg.naturalWidth + 'px ' + data.sourceImg.naturalHeight + 'px';\n\n            if (options.zoomStyle) {\n                data.zoomedImg.element.style.cssText += options.zoomStyle;\n            }\n            if (options.zoomLensStyle) {\n                data.zoomLens.element.style.cssText += options.zoomLensStyle;\n            } else {\n                data.zoomLens.element.style.background = 'white';\n                data.zoomLens.element.style.opacity = '0.4';\n            }\n\n            scaleX = data.sourceImg.naturalWidth / options.width;\n            scaleY = data.sourceImg.naturalHeight / options.height;\n            offset = getOffset(data.sourceImg.element);\n\n            // set zoomLens dimensions\n            // if custom scale is set\n            if (options.scale) {\n                data.zoomLens.width = options.width / (data.sourceImg.naturalWidth / (options.width * options.scale));\n                data.zoomLens.height = options.height / (data.sourceImg.naturalHeight / (options.height * options.scale));\n            }\n\n            // else if zoomWidth is set\n            else if (options.zoomWidth) {\n                data.zoomLens.width = options.zoomWidth / scaleX;\n                data.zoomLens.height = options.height / scaleY;\n            }\n\n            // else read from the zoomedImg\n            else {\n                data.zoomedImg.element.style.display = 'block';\n                data.zoomLens.width = data.zoomedImg.element.clientWidth / scaleX;\n                data.zoomLens.height = data.zoomedImg.element.clientHeight / scaleY;\n                data.zoomedImg.element.style.display = 'none';\n            }\n\n            data.zoomLens.element.style.position = 'absolute';\n            data.zoomLens.element.style.width = data.zoomLens.width + 'px';\n            data.zoomLens.element.style.height = data.zoomLens.height + 'px';\n            data.zoomLens.element.pointerEvents = 'none';\n        }\n\n        function setup() {\n            // create sourceImg element\n            if (options.img) {\n                var img = document.createElement('img');\n                img.src = options.img;\n                data.sourceImg.element = container.appendChild(img);\n            }\n\n            // or get sourceImg element from specified container\n            else {\n                data.sourceImg.element = container.children[0];\n\n                // if sourceImg is not an img (might be a picture element), try to find one\n                if (data.sourceImg.element.nodeName !== \"IMG\") {\n                    data.sourceImg.element = data.sourceImg.element.querySelector('img');\n                }\n            }\n\n            options = options || {};\n            container.style.position = 'relative';\n            data.sourceImg.element.style.width = options.width ? options.width + 'px' : 'auto';\n            data.sourceImg.element.style.height = options.height ? options.height + 'px' : 'auto';\n\n            data.zoomLens.element = container.appendChild(lensDiv);\n            data.zoomLens.element.style.display = 'none';\n            data.zoomLens.element.classList.add('js-image-zoom__zoomed-area');\n\n            data.zoomedImg.element = data.zoomContainer.appendChild(div);\n            data.zoomedImg.element.classList.add('js-image-zoom__zoomed-image');\n            data.zoomedImg.element.style.backgroundImage = \"url('\" + data.sourceImg.element.src + \"')\";\n            data.zoomedImg.element.style.backgroundRepeat = 'no-repeat';\n            data.zoomedImg.element.style.display = 'none';\n\n            switch (data.zoomPosition) {\n                case 'left':\n                    data.zoomedImg.element.style.position = 'absolute';\n                    data.zoomedImg.element.style.top = data.zoomedImgOffset.vertical + 'px';\n                    data.zoomedImg.element.style.left = data.zoomedImgOffset.horizontal - (data.zoomedImgOffset.horizontal * 2) + 'px';\n                    data.zoomedImg.element.style.transform = 'translateX(-100%)';\n                    break;\n\n                case 'top':\n                    data.zoomedImg.element.style.position = 'absolute';\n                    data.zoomedImg.element.style.top = data.zoomedImgOffset.vertical - (data.zoomedImgOffset.vertical * 2) + 'px';\n                    data.zoomedImg.element.style.left = 'calc(50% + ' + data.zoomedImgOffset.horizontal + 'px)';\n                    data.zoomedImg.element.style.transform = 'translate3d(-50%, -100%, 0)';\n                    break;\n\n                case 'bottom':\n                    data.zoomedImg.element.style.position = 'absolute';\n                    data.zoomedImg.element.style.bottom = data.zoomedImgOffset.vertical - (data.zoomedImgOffset.vertical * 2) + 'px';\n                    data.zoomedImg.element.style.left = 'calc(50% + ' + data.zoomedImgOffset.horizontal + 'px)';\n                    data.zoomedImg.element.style.transform = 'translate3d(-50%, 100%, 0)';\n                    break;\n\n                case 'original':\n                    data.zoomedImg.element.style.position = 'absolute';\n                    data.zoomedImg.element.style.top = '0px';\n                    data.zoomedImg.element.style.left = '0px';\n                    break;\n\n                // Right Position\n                default:\n                    data.zoomedImg.element.style.position = 'absolute';\n                    data.zoomedImg.element.style.top = data.zoomedImgOffset.vertical + 'px';\n                    data.zoomedImg.element.style.right = data.zoomedImgOffset.horizontal - (data.zoomedImgOffset.horizontal * 2) + 'px';\n                    data.zoomedImg.element.style.transform = 'translateX(100%)';\n                    break;\n            }\n\n\n            // setup event listeners\n            container.addEventListener('mousemove', events, false);\n            container.addEventListener('mouseenter', events, false);\n            container.addEventListener('mouseleave', events, false);\n            data.zoomLens.element.addEventListener('mouseenter', events, false);\n            data.zoomLens.element.addEventListener('mouseleave', events, false);\n            window.addEventListener('scroll', events, false);\n\n            return data;\n        }\n\n        function kill() {\n\n            // remove event listeners\n            container.removeEventListener('mousemove', events, false);\n            container.removeEventListener('mouseenter', events, false);\n            container.removeEventListener('mouseleave', events, false);\n            data.zoomLens.element.removeEventListener('mouseenter', events, false);\n            data.zoomLens.element.removeEventListener('mouseleave', events, false);\n            window.removeEventListener('scroll', events, false);\n\n            // remove dom nodes\n            if (data.zoomLens && data.zoomedImg) {\n                container.removeChild(data.zoomLens.element);\n                data.zoomContainer.removeChild(data.zoomedImg.element);\n            }\n\n            if (options.img) {\n                container.removeChild(data.sourceImg.element);\n            } else {\n                data.sourceImg.element.style.width = '';\n                data.sourceImg.element.style.height = '';\n            }\n\n            return data;\n        }\n\n        var events = {\n            handleEvent: function (event) {\n                switch (event.type) {\n                    case 'mousemove':\n                        return this.handleMouseMove(event);\n                    case 'mouseenter':\n                        return this.handleMouseEnter(event);\n                    case 'mouseleave':\n                        return this.handleMouseLeave(event);\n                    case 'scroll':\n                        return this.handleScroll(event);\n                }\n            },\n            handleMouseMove: function (event) {\n                var offsetX;\n                var offsetY;\n                var backgroundTop;\n                var backgroundRight;\n                var backgroundPosition;\n                if (offset) {\n                    offsetX = zoomLensLeft(event.clientX - offset.left);\n                    offsetY = zoomLensTop(event.clientY - offset.top);\n                    backgroundTop = offsetX * scaleX;\n                    backgroundRight = offsetY * scaleY;\n                    backgroundPosition = '-' + backgroundTop + 'px ' + '-' + backgroundRight + 'px';\n                    data.zoomedImg.element.style.backgroundPosition = backgroundPosition;\n                    data.zoomLens.element.style.cssText += 'top:' + offsetY + 'px;' + 'left:' + offsetX + 'px;display: block;';\n\n                }\n            },\n            handleMouseEnter: function () {\n                data.zoomedImg.element.style.display = 'block';\n                data.zoomLens.element.style.display = 'block';\n\n            },\n            handleMouseLeave: function () {\n                data.zoomedImg.element.style.display = 'none';\n                data.zoomLens.element.style.display = 'none';\n            },\n            handleScroll: function () {\n                offset = getOffset(data.sourceImg.element);\n            }\n        };\n\n        // Setup/Initialize library\n        setup();\n\n        if (data.sourceImg.element.complete) {\n            onSourceImgLoad();\n        } else {\n            data.sourceImg.element.onload = onSourceImgLoad;\n        }\n\n        return {\n            setup: function () {\n                setup();\n            },\n            kill: function () {\n                kill();\n            },\n            _getInstanceInfo: function () {\n                return {\n                    setup: setup,\n                    kill: kill,\n                    onSourceImgLoad: onSourceImgLoad,\n                    data: data,\n                    options: options\n                }\n            }\n        }\n    }\n}));\n"]},"metadata":{},"sourceType":"script"}